{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/isValidISODate.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","t","e","regex","date","RegExp","test","day","month","year","parsedDate","Date","getDate","getMonth","getFullYear","parseInt","a","DEFAULTS","sortDir","sortBy","throwError","getType","val","type","_typeof","_isValidISODate2","getValueByPath","propertyName","split","reduce","acc","curr","checkForDifferentTypes","itemA","itemB","Array","isArray","Error","execSort","list","sort","b","data","sortParameter","length","fallbacksortBy","item","keys","JSON","stringify","indexA","indexB","id","compare","err","items","options","_getOptions","_extends","some","map","sorted","reverse"],"mappings":"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","file":"sort-everything.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","// Regex to match ISO8601 format\n// DR: it handles all the format rules, but doesn't check for valid days in a specific month. Possible future improvements.\nconst regex = /^([-+]?\\d{4})(-(?:(?:W(?:0[^0]|5[0-3]|[1-4][0-9])(-[1-7])?)|(?:(?:0[^0]|1[0-2])(-(?:0[^0]|[1-2]\\d|3[0-1]))?)))?(T(?:[0-1]\\d|2[0-3])(?::[0-5]\\d)?(?::[0-5]\\d)?(?:Z|[+-](?:[0-1]\\d|2[0-3])(?::[0-5]\\d)?)?)?$/;\n\nconst daysInMonth = (month, year) => {\n  switch (month) {\n    case 1:\n      return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;\n    case 8:\n    case 3:\n    case 5:\n    case 10:\n      return 30;\n    default:\n      return 31;\n  }\n};\n\nconst isValidDate = (day, month, year) => {\n  month = parseInt(month, 10) - 1;\n  return month >= 0 && month < 12 && day > 0 && day <= daysInMonth(month, year);\n};\n\n/**\n * Check if a date is a valid ISO8601 date\n * @param {string} date The date\n */\nconst isValidISODate = date => {\n  if (!RegExp(regex).test(date)) {\n    return false;\n  }\n\n  const parsedDate = new Date(date);\n  return isValidDate(\n    parsedDate.getDate(),\n    parsedDate.getMonth() + 1,\n    parsedDate.getFullYear()\n  );\n};\n\nexport default isValidISODate;\n","import isValidISODate from \"./isValidISODate\";\nconst DEFAULTS = { sortDir: \"ASC\", sortBy: null, throwError: false };\n\nconst getOptions = options => {\n  return {\n    ...DEFAULTS,\n    ...options\n  };\n};\n\nconst getType = val => {\n  const type = typeof val;\n  if (type === \"string\") {\n    return isValidISODate(val) ? \"date\" : \"string\";\n  }\n  return type;\n};\n\nconst asc = (a, b, indexA, indexB) => {\n  if (a > b) return 1;\n  if (b > a) return -1;\n  return indexA - indexB; //if value is the same, preserves asc order of the original set\n};\n\nconst desc = (a, b, indexA, indexB) => {\n  if (a > b) return -1;\n  if (b > a) return 1;\n  return indexB - indexA; //if value is the same, preserves desc order of the original set\n};\n\nconst getValueByPath = (propertyName, object) => {\n  const parts = propertyName.split(\".\");\n  return parts.reduce((acc, curr) => {\n    return acc[curr];\n  }, object);\n};\n\nconst fallbacksortBy = item => {\n  let sortBy = Array.isArray(item) ? \"0\" : Object.keys(item)[0];\n  if (typeof item[sortBy] === \"object\") {\n    sortBy += `.${fallbacksortBy(item[sortBy])}`;\n  }\n  return sortBy;\n};\n\nconst checkForDifferentTypes = (itemA, itemB) => {\n  if (\n    getType(itemA) !== getType(itemB) ||\n    Array.isArray(itemA) !== Array.isArray(itemB)\n  ) {\n    throw new Error(\"Different types cannot be compared\");\n  }\n};\n\nconst compare = (a, b, sortDir, sortBy, throwError) => {\n  //clones parameters for manipulation\n  let itemA = a.data;\n  let itemB = b.data;\n  let sortParameter = sortBy;\n\n  //if we have different types in the list, error is thrown\n  checkForDifferentTypes(itemA, itemB);\n\n  //array of objects or array of arrays\n  if (getType(itemA) === \"object\") {\n    //fallback for missing sortParameter\n    if (!sortParameter || !sortParameter.length) {\n      sortParameter = fallbacksortBy(itemA);\n    }\n\n    //given the path in sortBy (path.to.key) gets the correct value to compare\n    itemA = getValueByPath(sortParameter, itemA);\n    itemB = getValueByPath(sortParameter, itemB);\n\n    checkForDifferentTypes(itemA, itemB);\n\n    //throws error for undefined values\n    if (itemA === undefined) {\n      throw new Error(\n        `Specified sortBy (${sortBy}) has not been found on item ${JSON.stringify(\n          a.data\n        )}.`\n      );\n    }\n    if (itemB === undefined) {\n      throw new Error(\n        `Specified sortBy (${sortBy}) has not been found on item ${JSON.stringify(\n          b.data\n        )}.`\n      );\n    }\n  }\n\n  //sort function\n  return sortDir === \"DESC\"\n    ? desc(itemA, itemB, a.id, b.id)\n    : asc(itemA, itemB, a.id, b.id);\n};\n\nconst execSort = (list, sortDir, sortBy, throwError) => {\n  try {\n    return list.sort((a, b) => compare(a, b, sortDir, sortBy, throwError));\n  } catch (err) {\n    if (throwError) throw err;\n    return null;\n  }\n};\n\n/** A function to sort an array in a type-aware mode\n * @param {Array.<any>} items  - Array to sort. The items have to be of the same type\n * @param [{Object}] options - Include options parameters to be used\n * @param {string='ASC'} options.sortDir  - Direction to sort to. It can be 'ASC' or 'DESC'\n * @param {string||Array.strings=null} options.sortBy - In case of objects array, the field(s) to use to sort, if null fallsback to first key in object\n * @param {boolean=true} options.throwError - If set to true in case of error returns the error, otherwise returns the array in the original order\n * @return {Array.<any>} - The sorted array\n */\nconst sort = (items, options) => {\n  const { sortDir, sortBy, throwError } = getOptions(options);\n  //check if items is array\n  if (!Array.isArray(items)) {\n    if (throwError) {\n      throw new Error(`Items must be an array`);\n    }\n    return items;\n  }\n\n  if (sortBy && Array.isArray(sortBy)) {\n    if (sortBy.some(i => typeof i !== \"string\")) {\n      if (throwError) {\n        throw new Error(\"[sortBy] must be a string or an array of strings\");\n      }\n      return items;\n    }\n  } else if (sortBy && typeof sortBy !== \"string\") {\n    if (throwError) {\n      throw new Error(\"[sortBy] must be a string or an array of strings\");\n    }\n    return items;\n  }\n\n  //list is items data with a progressive id to preserve order if value is the same\n  const list = items.map(function(data, id) {\n    return { id: id, data: data };\n  });\n\n  let sorted;\n  if (!sortBy || !Array.isArray(sortBy)) {\n    sorted = execSort(list, sortDir, sortBy, throwError);\n  } else {\n    //sorts and gets data of lists in reverse order (priority) of given sortBy array\n    sorted = sortBy.reverse().reduce((acc, curr) => {\n      return execSort(acc, sortDir, curr, throwError);\n    }, list);\n  }\n\n  return sorted\n    ? sorted.map(function(val) {\n        return val.data;\n      })\n    : items;\n\n  return list;\n};\n\nexport default sort;\n"],"sourceRoot":""}